<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title> RTBS || Live Blogger News </title>
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicons/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicons/favicon-16x16.png" />
    <link rel="manifest" href="assets/images/favicons/site.webmanifest" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;400;700;900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="assets/vendors/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/vendors/fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="assets/css/slider-style.css" />
    <link rel="stylesheet" href="assets/css/style-responsive.css" />

    <style>
        /* 9:16 OBS Full Screen Layout */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            background-color: #000;
        }

        .rtbs-news-container {
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* நீல நிற பார்டர் மற்றும் 9:16 கட்டம் */
        .news-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            border: 15px solid #ffde00; /* மஞ்சள் பார்டர் - உமது படத்தைப் போல */
            position: relative;
            background: #fff;
        }

        /* மேல் பகுதி - படம் (9:16 Ratio-க்கு ஏற்றவாறு) */
        .news-image-area {
            flex: 2;
            overflow: hidden;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .news-image-area img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* கீழ் பகுதி - செய்திக் கட்டம் */
        .news-text-area {
            flex: 1;
            background: #cc0000; /* சிவப்பு பின்னணி - உமது படத்தைப் போல */
            padding: 40px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .news-title {
            color: #ffffff;
            font-family: 'Poppins', sans-serif;
            font-size: 45px;
            font-weight: 900;
            line-height: 1.3;
            margin: 0;
        }

        /* Footer Info */
        .rtbs-footer {
            background: #fff;
            padding: 20px;
            text-align: center;
            border-top: 5px solid #ffde00;
        }

        .rtbs-footer h4 { margin: 5px 0; color: #1c2c52; font-weight: 800; }
        .rtbs-footer p { margin: 0; color: #ff5e14; font-weight: 600; }
    </style>
</head>

<body>

    <div id="feed-target" class="rtbs-news-container">
        <div style="color:white; text-align:center; padding-top:50%;">செய்திகள் ஏற்றப்படுகின்றன...</div>
    </div>

    <script src="assets/vendors/jquery/jquery-3.6.0.min.js"></script>
    
    <script>
        // மாற்ற வேண்டியவை: உங்கள் பிளாக்கர் RSS URL
        const BLOG_URL = "https://rss.rtbs.in/feeds/posts/default?alt=json";

        async function loadNews() {
            try {
                const response = await fetch(BLOG_URL);
                const data = await response.json();
                const entries = data.feed.entry;

                // சமீபத்திய ஒரு செய்தியை மட்டும் காட்ட (OBS-க்கு சிறந்தது)
                const latestPost = entries[0];
                const title = latestPost.title.$t;
                
                // முதல் படத்தை எடுக்கும் முறை
                let imgUrl = "";
                if (latestPost.media$thumbnail) {
                    imgUrl = latestPost.media$thumbnail.url.replace('s72-c', 's1600'); // உயர்தர படம்
                } else {
                    imgUrl = "assets/images/backgrounds/slider-1-1.jpg"; // படம் இல்லையென்றால் default
                }

                const html = `
                    <div class="news-item">
                        <div class="news-image-area">
                            <img src="${imgUrl}" alt="News Image">
                        </div>
                        <div class="news-text-area">
                            <h2 class="news-title">${title}</h2>
                        </div>
                        <div class="rtbs-footer">
                            <h4>RTBS Web 3.0</h4>
                            <p>+91 72000 81010</p>
                        </div>
                    </div>
                `;

                document.getElementById('feed-target').innerHTML = html;
            } catch (e) {
                console.error("Error:", e);
                document.getElementById('feed-target').innerHTML = "<h1 style='color:white;'>Check Blog URL / Internet</h1>";
            }
        }

        loadNews();
        // 5 நிமிடத்திற்கு ஒருமுறை தானாக புதுப்பிக்க
        setInterval(loadNews, 300000);
    </script>
</body>
</html>
